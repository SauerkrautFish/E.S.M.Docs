## 架构设计

### 前端

为了使页面简洁美观，逻辑合理。我们采用了传统的MVC架构，Controller即是**Activity**和**Fragment**，但是这两者掌握了Android系统中绝大多数的资源，并且在内部直接控制View。采用MVC模式的好处是便于UI界面部分的显示和业务逻辑，数据处理分开。

- M层：适合做一些业务逻辑处理，比如数据库存取操作，网络操作，复杂的算法，耗时的任务等都在model层处理。一般是也可以用来存储数据并显示在V层。
- V层：应用层中处理数据显示的部分，XML布局可以视为V层，显示Model层的数据结果。
- C层：在Android中，Activity处理用户交互问题，因此可以认为Activity是控制器，Controller即是Activity和Fragment，但是这两者掌握了Android系统中绝大多数的资源，并且在内部直接控制View，因此传统的Android App一般是以Activity和Fragment为核心，将网络模块，数据库管理模块，文件管理模块，常用工具类等分离成若干工具类包，供Activity和Fragment使用。

简单地说，这三者之间的关系就是

1. Model：模型层，负责处理数据的加载或者存储。
2. View：视图层，负责界面数据的展示，与用户进行交互
3. Controller：控制器层，负责逻辑业务的处理

![preview](https://camo.githubusercontent.com/9d34421767450639457be224c3f3e3cc866402ab/68747470733a2f2f706963342e7a68696d672e636f6d2f76322d63376561383537346332613864303463323761636365336161373635623235655f722e6a7067)

就以app里的功能进制转换为例，V层是进制转换功能的UI界面，是xml布局（详见activity_exchange.xml和arrays.xml）文件，而C层则是读取数据，与UI界面和用户交互的层面，对UI的输入进行读取，读取当前输入的数字后发起请求，然后再对数据进行转换（详见Exchange.java文档），最后将数据存储在M层里。

在V层中，我们使用XML文件来对UI界面进行基础布局，作为视图层，然后在C层中我们使用java文件来对从V层传输的数据进行多线程处理，网络请求，数据处理和交互都在C层中进行，最后把数据存储在M层中供V层访问。除此之外，事件监听等响应控件也是在C层进行处理，可以及时地对用户的数据进行更新。

### 后端

Django 项目是一个Python定制框架，它源自一个在线新闻 Web 站点，于 2005 年以开源的形式被释放出来。Django 框架的核心组件有：

1. 用于创建模型的对象关系映射
2. 为最终用户设计的完美管理界面
3. 一流的 URL 设计
4. 设计者友好的模板语言
5. 缓存系统。

Django是一个基于MVC构造的框架。但是在Django中，控制器接受用户输入的部分由框架自行处理，所以 Django 里更关注的是模型（Model）、模板(Template)和视图（Views），称为 MTV模式。它们各自的职责如下：

| 层次                        | 职责                                                         |
| --------------------------- | ------------------------------------------------------------ |
| 模型（Model），即数据存取层 | 处理与数据相关的所有事务： 如何存取、如何验证有效性、包含哪些行为以及数据之间的关系等。 |
| 模板(Template)，即表现层    | 处理与表现相关的决定： 如何在页面或其他类型文档中进行显示。  |
| 视图（View），即业务逻辑层  | 存取模型及调取恰当模板的相关逻辑。模型与模板的桥梁。         |
